<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
	Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
	<class name="bbr.b2b.walmart.commercial.items.entities.Inventory" table="INVENTORY"
		entity-name="bbr.b2b.walmart.commercial.items.entities.Inventory" schema="COMERCIAL">
		
		<id name="id" type="java.lang.Long">
			<column name="ID" />
			<generator class="identity">
				<param name="sequence">INVENTORY_SEQUENCE</param>
				<param name="parameters">AS BIGINT CACHE 100</param>
			</generator>
		</id>		
		
		<property name="vendorcode" type="java.lang.String" not-null="true"></property>
		<property name="vendorname" type="java.lang.String" not-null="true"></property>
		<property name="vendorsequence" type="java.lang.String"></property>
		<property name="vendordeptonumber" type="java.lang.Integer"></property>
		<property name="consumerid" type="java.lang.String"/> 
		<property name="sicurrentvalid" type="java.lang.Integer"/> 
		<property name="sicurrenttraited" type="java.lang.Integer" /> 
		<property name="region" type="java.lang.String" /> 
		<property name="segment" type="java.lang.String"/> 
		<property name="subgroup" type="java.lang.String" /> 
		<property name="subcategory" type="java.lang.String" /> 
		<property name="category" type="java.lang.String" /> 			
		<property name="categorygroup" type="java.lang.String" /> 			
		<property name="currentstorehand" type="java.lang.Double" /> 
		<property name="currentstoretransit" type="java.lang.Double"/> 
		<property name="currentstorewarehouse" type="java.lang.Double" /> 
		<property name="currentstoreorder" type="java.lang.Double" /> 
		<property name="posqnty" type="java.lang.Integer" />
		<property name="posqnty1" type="java.lang.Integer" />
		<property name="posqnty2" type="java.lang.Integer" />
		<property name="posqnty3" type="java.lang.Integer" />
		<property name="posqnty4" type="java.lang.Integer" />
		<property name="posqnty5" type="java.lang.Integer" />
		<property name="posqnty6" type="java.lang.Integer" />
		<property name="posqnty7" type="java.lang.Integer" />
		<property name="itemstatus" type="java.lang.String"></property>
		<property name="itemtype" type="java.lang.String"></property>
		<property name="vnpkupc" type="java.lang.String"></property>
		<property name="upc" type="java.lang.String"></property>
		<property name="vnpkqty" type="java.lang.String"></property>
		<property name="legacyplu" type="java.lang.String"></property>
		<property name="loaddate" type="timestamp"/> 
			
		<property name="itemdescription" type="java.lang.String"></property>
		<property name="itemalternativecode" type="java.lang.String"></property>
		
		<property name="locationcode" type="java.lang.String" not-null="true"></property>		
		<property name="locationname" type="java.lang.String" not-null="true"></property>
		
		<many-to-one name="credential" class="bbr.b2b.walmart.commercial.vendors.entities.VendorCredential" column="CREDENTIAL_ID" not-null="true" />

		<sql-query name="getInventoryReportByDate">
			<![CDATA[
				SELECT
					
					INV.VENDORCODE AS VENDORCODE,
					INV.VENDORDEPTONUMBER AS VENDORDEPTONUMBER,
					INV.VENDORSEQUENCE AS VENDORSEQUENCE,
					CAST(REPLACE(INV.VENDORNAME, '"', '''') AS VARCHAR)  AS VENDORNAME,
					INV.REGION AS REGION,
					INV.CONSUMERID AS CONSUMERID,
					INV.LEGACYPLU AS LEGACYPLU,
					INV.ITEMALTERNATIVECODE AS ITEMCODE,
					INV.ITEMDESCRIPTION AS ITEMNAME,
					INV.LOCATIONCODE AS LOCALCODE,
					INV.LOCATIONNAME AS LOCALNAME,
					INV.SICURRENTVALID AS SICURRENTVALID,
					INV.SICURRENTTRAITED AS SICURRENTTRAITED,
					CAST(REPLACE(INV.SEGMENT, '"', '''') AS VARCHAR) AS SEGMENT,
					CAST(REPLACE(INV.SUBGROUP, '"', '''') AS VARCHAR) AS SUBGROUP,
					CAST(REPLACE(INV.SUBCATEGORY, '"', '''') AS VARCHAR) AS SUBCATEGORY,
					CAST(REPLACE(INV.CATEGORY, '"', '''') AS VARCHAR)  AS CATEGORY,
					CAST(REPLACE(INV.CATEGORYGROUP, '"', '''') AS VARCHAR) AS CATEGORYGROUP,
					INV.VNPKUPC,
					INV.UPC,
					INV.ITEMTYPE AS ITEMTYPE,
					INV.ITEMSTATUS AS ITEMSTATUS,
					INV.VNPKQTY AS VNPKQTY,
					INV.CURRENTSTOREHAND AS CURRENTSTOREHAND,
					INV.CURRENTSTORETRANSIT AS CURRENTSTORETRANSIT,
					INV.CURRENTSTOREWAREHOUSE AS CURRENTSTOREWAREHOUSE,
					INV.CURRENTSTOREORDER AS CURRENTSTOREORDER,
					INV.POSQNTY AS POSQNTY
					
				FROM
					COMERCIAL.INVENTORY INV 
				WHERE
					:now = TO_CHAR(LOADDATE, 'yyyy-mm-dd')
										
			]]>
		</sql-query>


				
		<sql-query name="getInventoryReportByDate_DEPRECATED">
			<![CDATA[
				SELECT
					
					INV.VENDORCODE AS VENDORCODE,
					INV.VENDORDEPTONUMBER AS VENDORDEPTONUMBER,
					INV.VENDORSEQUENCE AS VENDORSEQUENCE,
					CAST(REPLACE(INV.VENDORNAME, '"', '''') AS VARCHAR)  AS VENDORNAME,
					INV.REGION AS REGION,
					INV.CONSUMERID AS CONSUMERID,
					INV.LEGACYPLU AS LEGACYPLU,
					INV.ITEMALTERNATIVECODE AS ITEMCODE,
					INV.ITEMDESCRIPTION AS ITEMNAME,
					INV.LOCATIONCODE AS LOCALCODE,
					INV.LOCATIONNAME AS LOCALNAME,
					INV.SICURRENTVALID AS SICURRENTVALID,
					INV.SICURRENTTRAITED AS SICURRENTTRAITED,
					CAST(REPLACE(INV.SEGMENT, '"', '''') AS VARCHAR) AS SEGMENT,
					CAST(REPLACE(INV.SUBGROUP, '"', '''') AS VARCHAR) AS SUBGROUP,
					CAST(REPLACE(INV.SUBCATEGORY, '"', '''') AS VARCHAR) AS SUBCATEGORY,
					CAST(REPLACE(INV.CATEGORY, '"', '''') AS VARCHAR)  AS CATEGORY,
					CAST(REPLACE(INV.CATEGORYGROUP, '"', '''') AS VARCHAR) AS CATEGORYGROUP,
					INV.VNPKUPC,
					INV.UPC,
					INV.ITEMTYPE AS ITEMTYPE,
					INV.ITEMSTATUS AS ITEMSTATUS,
					INV.VNPKQTY AS VNPKQTY,
					INV.CURRENTSTOREHAND AS CURRENTSTOREHAND,
					INV.CURRENTSTORETRANSIT AS CURRENTSTORETRANSIT,
					INV.CURRENTSTOREWAREHOUSE AS CURRENTSTOREWAREHOUSE,
					INV.CURRENTSTOREORDER AS CURRENTSTOREORDER,
					
				    CASE
    					WHEN :dayOfWeek =1 then INV.POSQNTY6
    					WHEN :dayOfWeek =2 then INV.POSQNTY7
    					WHEN :dayOfWeek =3 then INV.POSQNTY1
    					WHEN :dayOfWeek =4 then INV.POSQNTY2
    					WHEN :dayOfWeek =5 then INV.POSQNTY3
    					WHEN :dayOfWeek =6 then INV.POSQNTY4
    					ELSE INV.POSQNTY5
    				END AS POSQNTY
					
				FROM
					COMERCIAL.INVENTORY INV 
				WHERE
					:now = TO_CHAR(LOADDATE, 'yyyy-mm-dd')
										
			]]>
		</sql-query>
		
			
	</class>	
</hibernate-mapping>

