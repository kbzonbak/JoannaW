<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
	Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
	<joined-subclass
		name="bbr.b2b.regional.logistic.couriers.entities.CorreosChileTag"
		table="CORREOSCHILETAG"
		entity-name="bbr.b2b.regional.logistic.couriers.entities.CorreosChileTag"
		extends="bbr.b2b.regional.logistic.couriers.entities.CourierTag"
		schema="LOGISTICA">
		<key column="ID" />

		<property name="abbreviationcenter" type="java.lang.String" />
		<property name="delegationcode" type="java.lang.String" />
		<property name="delegationname" type="java.lang.String" />
		<property name="destinationaddress" type="java.lang.String" />
		<property name="routingcode" type="java.lang.String" />
		<property name="recordsend" type="java.lang.String" />
		<property name="destinationcommune" type="java.lang.String" />
		<property name="abbreviationservice" type="java.lang.String" />
		<property name="admissioncode" type="java.lang.String" />

		<sql-query name="getCorreosChileTagInformation">
			<![CDATA[	
				SELECT 
					v.name AS vendorname,
					v.rut AS vendorrut,
					hc.clientcode AS clientcode,
					va.phone1 AS vendorphone1,
					cct.abbreviationservice AS abbreviationservice,
					oc.number AS number,
					cct.routingcode AS routingcode,
					ct.sendnumber AS sendnumber,
					cct.destinationcommune AS destinationcommune,
					cct.destinationaddress AS destinationaddress,
					c.name AS clientname,
					c.phone AS clientphone,
					c.comment AS clientcomment,
					cct.sdp AS sdp,
					cct.delegationname AS delegationname,
					cct.cuartel AS cuartel,
					cct.sector AS sector,
					ct.withdrawalnumber AS withdrawalnumber
				FROM
					logistica.dodelivery AS dd JOIN
					logistica.vendor AS v on dd.vendor_id = v.id JOIN
					logistica.hiredcourier AS hc on hc.vendor_id = v.id JOIN
					logistica.vendoraddress AS va on va.vendor_id = v.id JOIN
					logistica.couriertag AS ct on ct.dodelivery_id = dd.id JOIN
					logistica.correoschiletag AS cct on cct.id = ct.id JOIN
					logistica.directorder AS oc on dd.order_id = oc.id JOIN
					logistica.client AS c on oc.client_id = c.id
				WHERE
					dd.id = :dodeliveryid
			]]>
		</sql-query>
		
	</joined-subclass>
</hibernate-mapping>
