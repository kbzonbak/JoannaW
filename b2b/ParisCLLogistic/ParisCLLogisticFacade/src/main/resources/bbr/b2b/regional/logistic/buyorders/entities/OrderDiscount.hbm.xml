<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
	Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
	<joined-subclass name="bbr.b2b.regional.logistic.buyorders.entities.OrderDiscount" table="ORDERDISCOUNT" 
		entity-name="bbr.b2b.regional.logistic.buyorders.entities.OrderDiscount" extends="bbr.b2b.regional.logistic.buyorders.entities.Discount" schema="LOGISTICA">
		<key column ="ID" />
				
		<many-to-one name="order"
			class="bbr.b2b.regional.logistic.buyorders.entities.Order" column="ORDER_ID"
			not-null="true" />		
				
		<sql-query name="getOrderDiscountByOrders">
			<![CDATA[               
	         	  	SELECT 
	         	  		d.id, 
	         	  		d.code, 
	         	  		d.value, 
	         	  		d.percentage, 
	         	  		d.comment, 
	         	  		od.order_id as orderid
  					FROM 
  						logistica.discount d 
  						join logistica.orderdiscount od on (d.id=od.id)
  					WHERE 
  						od.order_id IN (:orderids)
				]]>
		</sql-query>	
		
	</joined-subclass>
</hibernate-mapping>
