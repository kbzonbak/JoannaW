<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
	Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
	<class name="bbr.b2b.logistic.dvrdeliveries.entities.DatingRequest" table="DATINGREQUEST" 
		entity-name="bbr.b2b.logistic.dvrdeliveries.entities.DatingRequest" schema="LOGISTICA">
		<id name="id" type="java.lang.Long">
			<column name="ID" />
			<generator class="identity">
				<param name="sequence">DATINGREQUEST_SEQUENCE</param>
				<param name="parameters">AS BIGINT CACHE 100</param>
			</generator>
		</id>

		<property name="requester" type="java.lang.String" column="REQUESTER" length="250" not-null="true"/>
		<property name="email" type="java.lang.String" column="EMAIL" length="250" not-null="true"/>
		<property name="phone" type="java.lang.String" column="PHONE" length="250" />
		<property name="requestdate" type="java.time.LocalDateTime" column="REQUESTDATE" not-null="true"/>
		<property name="trucks" type="java.lang.Integer" column="TRUCKS" not-null="true"/>
		<property name="pallets" type="java.lang.Integer" column="PALLETS" />
		<property name="estimatedvolume" type="java.lang.Integer" column="ESTIMATEDVOLUME" not-null="true"/>
		<property name="estimatedtime" type="java.lang.Integer" column="ESTIMATEDTIME" not-null="true"/>
		<property name="estimatedbulks" type="java.lang.Integer" column="ESTIMATEDBULKS" not-null="true"/>
		<property name="needmodule" type="java.lang.String" column="NEEDMODULE" length="250" not-null="true"/>
		<property name="comment" type="java.lang.String" column="COMMENT" length="250"/>
		<property name="when" type="java.time.LocalDateTime" column="WHEN1" not-null="true"/>	
		
		<many-to-one name="dvrdelivery"
			class="bbr.b2b.logistic.dvrdeliveries.entities.DvrDelivery" column="DVRDELIVERY_ID"
			not-null="true" />
				
		<sql-query name="getDatingRequestDetailDataReport">
			<![CDATA[
				SELECT 
					dr.requester as requestername,
					dr.email as email,
					dr.phone as phone,
					dr.requestdate as requestdate,
					dr.when1 as when,
					dr.needmodule,
					dr.pallets,
					dr.estimatedbulks as bulks,
					dr.estimatedvolume,
					dr.estimatedtime,
					dr.comment,
					dr.trucks
				FROM logistica.datingrequest as dr
				WHERE 
					dr.dvrdelivery_id = :dvrdeliveryid
			]]>
		</sql-query>						
								
	</class>
</hibernate-mapping>
